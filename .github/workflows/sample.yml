name: CI/CD - React App

on:
  push:
    branches:
      - main   # change if your main branch is different

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 20

    - name: Install dependencies
      run: npm install

    - name: Run tests
      run: npm test --if-present

    - name: Build project
      run: npm run build

    # ---------------------------
    # Deployment step placeholder
    # ---------------------------
    # Uncomment this when you add Hostinger credentials
    #
    # - name: Deploy via FTP
    #   uses: SamKirkland/FTP-Deploy-Action@v4.3.4
    #   with:
    #     server: ${{ secrets.HOSTINGER_FTP_HOST }}
    #     username: ${{ secrets.HOSTINGER_FTP_USERNAME }}
    #     password: ${{ secrets.HOSTINGER_FTP_PASSWORD }}
    #     port: ${{ secrets.HOSTINGER_FTP_PORT }}
    #     local-dir: dist
    #     server-dir: ${{ secrets.HOSTINGER_REMOTE_PATH }}
